/**
 * GMO Font Agent - v1.0
 *
 * https://github.com/GMOinternet/gmo-font-agent
 * 
 *
 * Copyright 2014, WP Shop byGMO (http://www.wpshop.com)
 * Released under the GPLv2
 */
(function(t,a,n){function e(a,e,o){var i=a.replace(/^(\.|\#)/,"_");t("#fontname-"+i).html('<option value="">Select font name ...</option>');for(var f in o[e])t("#fontname-"+i).append(t('<option value="'+f+'">'+f+"</option>"));n[a]&&n[a].fontcat&&t("#fontname-"+i).val(n[a].fontname)}function o(a){var n=a.replace(/^(\.|\#)/,"_");if(t("#fontname-"+n).val()){t("#fontname-"+n).val(),t("head").append("<link>");var e=t("head").children(":last");e.attr({rel:"stylesheet",type:"text/css",href:"http://fonts.googleapis.com/css?family="+encodeURI(t("#fontname-"+n).val())}),t("#tag-"+n+" .beta "+a).css("font-family",t("#fontname-"+n).val())}else t("#tag-"+n+" .beta "+a).css("font-family","inherit");t("#font-size-"+n).val()?(t("#tag-"+n+" .beta "+a).css("font-size",t("#font-size-"+n).val()+"px"),t("#tag-"+n+" .beta "+a).css("line-height",1.25)):t("#tag-"+n+" .beta "+a).css("font-size","")}t("#tabs").tabs(),t.getJSON(a,function(a){t(".fontcat").each(function(){for(var o in a)t(this).append(t('<option value="'+o+'">'+o+"</option>"));t(this).change(function(){var n=t(this).val(),o=t(this).attr("data-tag");e(o,n,a)});var i=t(this).attr("data-tag");n[i]&&n[i].fontcat&&t(this).val(n[i].fontcat),e(i,t(this).val(),a)}),t("#gmofontagent .beta[data-tag]").each(function(){var a=t(this).attr("data-tag");o(a)})}),t("#gmofontagent .fontname").change(function(){var a=t(this).attr("data-tag");o(a)}),t("#gmofontagent .font-size").change(function(){var a=t(this).attr("data-tag");o(a)})})(jQuery,url,settings);